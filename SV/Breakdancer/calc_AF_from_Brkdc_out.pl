#! /usr/bin/perl

use strict;
use warnings;

open BK, "<breakdancer.ChrS07.1251438.INV";
#ChrS07	1223648	1251438	INV	25122	CC4_1|2,2.10:DD7|1,1.66:GP14|1,1.93:GP2_3|2,2.02:GP4_2|1,1.95:HFA11|4,1.97:HerbarG1|1,1.95:HerbarG2|1,1.76:ML1_1|2,1.87:ML3_1|1,1.95:RB1_1|3,1.86:RB2_7|1,1.90:RB3_7|2,1.93:RC1_1|2,1.82:RC2_3|3,1.96:RU-102|3,1.96:RU-103|1,1.92:RU-186|3,1.85:RU-195|1,1.84:RU-206|2,1.96:RU-408|1,1.95:RU-410|3,1.85:SP138|1,1.91:SP140|2,1.75:SP141|1,1.82:SP142|1,1.72:SP143|1,1.94:SP145|2,1.90:SP150|3,1.86:SP151|1,1.81:SP153|1,1.89:SP155|6,1.88:SP156|7,1.91:SP157|4,1.84:SP158|1,1.89:SP159|1,1.94:SP160|1,1.91:SP161|3,1.79:SP162|5,1.83:SP163|2,1.85:SP165|3,1.78:SP167|4,1.89:SP168|2,1.83:SP170|2,1.78:SP171|3,1.84:SP177|2,1.85:SP178|1,1.86:SP179|4,1.94:SP180|1,1.81:SP181|5,1.80:SP182|1,1.86:SP183|3,1.86:SP184|3,1.81:SP185|1,1.84:SP186|2,1.99:SP187|2,1.81:SP188|3,1.91:SP189|4,1.95:SP190|2,1.86:SP191|4,1.81:SP193|2,1.86:SP195|1,1.81:SP197|3,1.86:SP199|1,1.87:SP201|3,1.94:SP202|3,1.85:SP203|2,1.80:SP204|3,1.69:SP205|4,1.87:SP206|2,1.77:SP207|3,1.86:SP208|3,1.90:SP209|2,1.88:SP210|1,1.97:SP212|2,1.83:SP213|2,1.93:SP214|2,1.82:SP215|2,1.90:SP216|1,1.91:SP217|3,1.83:SP218|1,1.90:SP219|1,1.92:SP220|1,1.91:SP221|3,1.91:SP222|4,1.92:SP223|1,1.82:SP224|2,1.82:SP225|3,1.82:SP226|1,1.80:SP227|2,1.92:SP228|3,1.94:SP229|1,1.85:SP230|1,1.84:SP231|1,1.79:SP232|2,1.80:SP233|1,1.87:SP234|2,1.89:SP235|2,1.84:SP236|1,1.84:SP237|1,1.78:SP238|1,1.82:SP239|6,1.84:SP240|2,1.86:SP241|2,1.83:Sp001|3,1.92:Sp004|3,1.97:Sp005|1,1.95:Sp007|9,1.90:Sp008|1,1.88:Sp009|2,1.90:Sp010|2,1.82:Sp011|5,1.91:Sp012|4,1.92:Sp013|4,1.89:Sp014|5,1.84:Sp015|1,1.96:Sp016|3,1.95:Sp017|3,1.91:Sp018|4,1.86:Sp019|2,1.87:Sp020|4,1.88:Sp022|6,1.85:Sp023|6,1.89:Sp024|4,1.80:Sp025|3,1.88:Sp026|2,1.87:Sp027|1,1.89:Sp029|4,1.85:Sp030|3,1.81:Sp031|3,1.93:Sp032|4,1.93:Sp034|5,1.85:Sp035|2,1.93:Sp036|3,1.98:Sp037|3,1.91:Sp038|2,1.85:Sp039|7,1.84:Sp040|7,1.87:Sp041|4,1.83:Sp042|5,1.90:Sp043|3,1.88:Sp046|3,1.85:Sp047|3,1.96:Sp048|3,1.83:Sp049|3,1.97:Sp050|1,1.93:Sp051|3,1.87:Sp053|2,1.89:Sp054|2,1.80:Sp055|7,1.94:Sp056|2,1.89:Sp057|3,1.96:Sp058|1,1.88:Sp059|2,1.93:Sp060|2,1.84:Sp061|2,1.88:Sp062|3,1.99:Sp063|3,1.89:Sp065|5,1.91:Sp066|3,1.97:Sp067|2,1.81:Sp070|1,1.93:Sp071|1,1.93:Sp072|1,1.89:Sp074|6,1.86:Sp077|6,1.89:Sp078|3,1.90:Sp079|3,1.90:Sp083|2,1.85:Sp085|2,1.99:Sp087|4,1.86:Sp089|1,1.87:Sp092|7,1.85:Sp093|4,1.88:Sp094|5,1.87:Sp100|3,1.88:Sp101|3,1.87:Sp102|6,1.95:Sp103|3,1.77:Sp104|1,1.91:Sp105|2,1.90:Sp106|3,1.82:Sp108|30,1.85:Sp112|3,1.94:Sp113|2,1.79:Sp114|9,1.93:Sp115|8,1.89:Sp116|4,1.96:Sp117|9,1.93:Sp118|5,1.86:Sp119|1,1.84:Sp120|3,1.77:Sp121|1,1.84:Sp122|3,1.82:Sp123|2,1.85:Sp124|1,1.85:Sp125|2,1.84:Sp126|1,1.86:Sp130|1,1.88:Sp131|3,1.78:Sp132|3,1.93:Sp133|1,1.82:Sp134|2,1.87:Sp135|6,1.92:Sp136|16,1.87:Sp137|10,1.84	ChrS07	1223532	1253547	INV	ChrS07	1245436	1247858	ID=Spipo9G0016400;Description=MADS-box transcription factor	2423	27790

my @test;
while (<BK>){
	chomp;
	my @a=split/\t/,$_;
	my @b=split/\|/,$a[5];
	for my $i (@b){
		$i=~s/\d+\,\d+\.?\d*\://;
		push @test,$i;
		#print "$i\n";
	}
	
}

my %hash;
open AME, "<AME.list";
while (<AME>){
	chomp;
	#print "$_\n";
	$hash{"AME"}{$_}=0;
}
close AME;

open ASIA, "<ASIA.list";
while (<ASIA>){
	chomp;
	$hash{"ASIA"}{$_}=0;
}
close ASIA;

open IND, "<IND.list";
while (<IND>){
	chomp;
	$hash{"IND"}{$_}=0;
}
close IND;

open EUR, "<EUR.list";
while (<EUR>){
	chomp;
	$hash{"EUR"}{$_}=0;
}
close EUR;

my %count;
for my $i (@test){
	#print "$i\n";
	for my $j ("AME","ASIA","IND","EUR"){
		#print "$j\n";
		if (exists $hash{$j}{$i}){
			$count{$j}++;
		} else {
			#print "$j\t$i not exists\n";
		}
	}
}


for my $i (keys %count){
	print "$i\t$count{$i}\n";
}